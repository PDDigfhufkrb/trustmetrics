<!DOCTYPE html>
<html>
<head>
    <title>Тест оплаты ShadowBoost</title>
    <link rel="stylesheet" href="https://yookassa.ru/integration/simplepay/css/yookassa_construct_form.css?v=1.30.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
        }
        .test-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h2>Тест оплаты ShadowBoost</h2>
    
    <div class="test-info">
        <strong>Тестовый платеж:</strong> 1 рубль<br>
        После оплаты вы вернетесь на эту же страницу
    </div>

    <form target="_blank" class="yoomoney-payment-form" action="https://yookassa.ru/integration/simplepay/payment" method="post" accept-charset="utf-8">

        <div class="ym-products ym-display-none">
            <div class="ym-block-title ym-products-title">Товары</div>
            <div class="ym-product">
                <div class="ym-product-line">
                    <span class="ym-product-description"><span class="ym-product-count">1×</span>Тест ShadowBoost</span>
                    <span class="ym-product-price" data-price="1" data-id="999" data-count="1">1,00&nbsp;₽</span>
                </div>
                <input disabled="" type="hidden" name="text" value="Тест ShadowBoost">
                <input disabled="" type="hidden" name="price" value="1">
                <input disabled="" type="hidden" name="quantity" value="1">
                <input disabled="" type="hidden" name="paymentSubjectType" value="service">
                <input disabled="" type="hidden" name="paymentMethodType" value="full_prepayment">
                <input disabled="" type="hidden" name="tax" value="1">
            </div>
        </div>
        
        <input value="" type="hidden" name="ym_merchant_receipt">

        <div class="ym-customer-info">
            <div class="ym-block-title">О покупателе</div>
            <input class="ym-input" name="email" placeholder="Email для чека" type="text" required value="test@shadowboost.ru">
        </div>

        <div class="ym-hidden-inputs">
            <!-- Возврат на ЭТУ ЖЕ СТРАНИЦУ после оплаты -->
            <input name="shopSuccessURL" type="hidden" value="https://shadowboost.ru/tariffffffffffff.html">
            <input name="shopFailURL" type="hidden" value="https://shadowboost.ru/tariffffffffffff.html">
        </div>

        <div class="ym-payment-btn-block ym-before-line ym-align-space-between">
            <div class="ym-input-icon-rub ym-display-none">
                <input name="sum" placeholder="0.00" class="ym-input ym-sum-input ym-required-input" type="number" step="any" value="1">
            </div>
            <button data-text="Заплатить" class="ym-btn-pay ym-result-price">
                <span class="ym-text-crop">Заплатить</span> 
                <span class="ym-price-output">1,00&nbsp;₽</span>
            </button>
            <img src="https://yookassa.ru/integration/simplepay/img/iokassa-gray.svg?v=1.30.0" class="ym-logo" width="114" height="27" alt="ЮKassa">
        </div>
        
        <input name="shopId" type="hidden" value="1256818">
    </form>

    <script src="https://yookassa.ru/integration/simplepay/js/yookassa_construct_form.js?v=1.30.0"></script>
    
    <script>
        // Проверка параметров
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Тестовая страница оплаты загружена');
            console.log('ShopId:', document.querySelector('input[name="shopId"]').value);
            console.log('Сумма:', document.querySelector('input[name="sum"]').value);
            console.log('Success URL:', document.querySelector('input[name="shopSuccessURL"]').value);
            
            // Автоматически заполняем email для теста
            document.querySelector('input[name="email"]').value = 'test' + Date.now() + '@shadowboost.ru';
        });
    </script>
</body>
</html>
